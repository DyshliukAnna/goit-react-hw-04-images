{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\GitHub\\\\goit-react-hw-03-image-finder\\\\src\\\\components\\\\App.jsx\";\nimport { Component } from 'react';\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Button from \"./Button/Button\";\nimport Loader from \"./Loader/Loader\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport fetchPhotos from 'components/API/Api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      searchQuery: '',\n      data: [],\n      page: 1,\n      imagesOnPage: 0,\n      error: null,\n      status: 'idle',\n      showBtn: false\n    };\n    this.incrementPage = () => {\n      this.setState(_ref => {\n        let {\n          page\n        } = _ref;\n        return {\n          page: page + 1\n        };\n      });\n    };\n    this.handleSearchSubmit = searchQuery => {\n      this.setState({\n        searchQuery,\n        page: 1,\n        data: [],\n        showBtn: false\n      });\n    };\n  }\n  async componentDidUpdate(_, prevState) {\n    const {\n      searchQuery,\n      page\n    } = this.state;\n    if (searchQuery !== prevState.searchQuery || prevState.page !== page) {\n      try {\n        this.setState({\n          status: 'pending'\n        });\n        const {\n          totalHits,\n          hits\n        } = await fetchPhotos(searchQuery, page);\n        this.setState(prevState => ({\n          data: [...prevState.data, ...hits],\n          showBtn: page < Math.ceil(totalHits / 12),\n          status: 'resolved'\n        }));\n      } catch (error) {\n        this.setState({\n          error,\n          status: 'rejected'\n        });\n        console.log(error.message);\n      }\n    }\n  }\n  render() {\n    const {\n      data,\n      status,\n      showBtn\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Searchbar, {\n        onSubmit: this.handleSearchSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(ImageGallery, {\n          dataImages: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }, this), showBtn && /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.incrementPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 23\n        }, this), status === 'pending' && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 36\n        }, this), status === 'rejected' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info\",\n          children: \"\\u041F\\u0435\\u0440\\u0435\\u043F\\u0440\\u043E\\u0448\\u0443\\u0454\\u043C\\u043E \\u0437\\u0430 \\u043D\\u0435 \\u0437\\u0440\\u0443\\u0447\\u043D\\u043E\\u0441\\u0442\\u0456, \\u0430\\u043B\\u0435 \\u0437\\u0430 \\u0432\\u0430\\u0448\\u0438\\u043C \\u0437\\u0430\\u043F\\u0438\\u0442\\u043E\\u043C \\u043D\\u0456\\u0447\\u043E\\u0433\\u043E \\u043D\\u0435 \\u0437\\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true);\n  }\n}","map":{"version":3,"names":["Component","ImageGallery","Button","Loader","Searchbar","fetchPhotos","jsxDEV","_jsxDEV","Fragment","_Fragment","App","constructor","arguments","state","searchQuery","data","page","imagesOnPage","error","status","showBtn","incrementPage","setState","_ref","handleSearchSubmit","componentDidUpdate","_","prevState","totalHits","hits","Math","ceil","console","log","message","render","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","className","dataImages","onClick"],"sources":["C:/Users/Admin/Documents/GitHub/goit-react-hw-03-image-finder/src/components/App.jsx"],"sourcesContent":["import { Component } from 'react';\r\n\r\n\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\nimport Button from \"./Button/Button\";\r\nimport Loader from \"./Loader/Loader\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\n\r\n\r\nimport fetchPhotos from 'components/API/Api';\r\n\r\n export class App extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n    data: [],\r\n    page: 1,\r\n    imagesOnPage: 0,\r\n    error: null,\r\n    status: 'idle',\r\n    showBtn: false,\r\n  };\r\n\r\n  async componentDidUpdate(_, prevState) {\r\n    const { searchQuery, page } = this.state;\r\n    if (searchQuery !== prevState.searchQuery || prevState.page !== page) {\r\n      try {\r\n        this.setState({ status: 'pending' });\r\n        const { totalHits, hits } = await fetchPhotos(searchQuery, page);\r\n        this.setState(prevState => ({\r\n          data: [...prevState.data, ...hits],\r\n          showBtn: page < Math.ceil(totalHits / 12),\r\n          status: 'resolved',\r\n        }));\r\n      } catch (error) {\r\n        this.setState({\r\n          error,\r\n          status: 'rejected',\r\n        });\r\n        console.log(error.message);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  incrementPage = () => {\r\n    this.setState(({ page }) => ({ page: page + 1 }));\r\n  };\r\n\r\n  handleSearchSubmit = searchQuery => {\r\n    this.setState({\r\n      searchQuery,\r\n      page: 1,\r\n      data: [],\r\n      showBtn: false,\r\n    });\r\n  };\r\n\r\n\r\n  render(){\r\n    const { data, status, showBtn } = this.state;\r\n  return (\r\n    <>\r\n    <Searchbar onSubmit={this.handleSearchSubmit} />\r\n     <div className=\"container\">\r\n      <ImageGallery dataImages={data} />\r\n          {showBtn && <Button onClick={this.incrementPage} />}\r\n          {status === 'pending' && <Loader />}\r\n          {status === 'rejected' && (\r\n            <div className=\"info\">\r\n              Перепрошуємо за не зручності, але за вашим запитом нічого не\r\n              знайдено\r\n            </div>\r\n          )}\r\n     </div>\r\n    </>\r\n  );\r\n};\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}